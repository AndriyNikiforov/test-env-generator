"use strict";const unzip=require("unzip"),rimraf=require("rimraf"),archiver=require("archiver"),{log}=require("console"),{mkdir,createWriteStream,createReadStream}=require("fs"),errorResolver=a=>{if(a)throw a;log("Success")},exactArch=async a=>{const b=createReadStream(a);await mkdir("./qa-skeleton",a=>errorResolver(a)),b.pipe(unzip.Extract({path:"./qa-skeleton"}))},makeArch=async(a,b)=>{const c=createWriteStream(`./${a}.zip`),d=archiver("zip",{zlib:{level:9}});d.on("error",a=>{throw a}),d.pipe(c),d.glob("**/*",{cwd:`./${b}`},{}),await d.finalize(),await rimraf(b,a=>errorResolver(a))};module.exports={exactArch,makeArch};